<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 02</title>
    <style>
      .form-group {
        margin: 4px;
      }

      .form-group label {
        width: 75px;
        display: inline-block;
      }
      .form-group span {
        display: none;
        color: red;
      }
    </style>
  </head>

  <body>
    <form>
      <div class="form-group">
        <label>Логин</label>
        <input type="text" name="login" placeholder="login" minlength="4" />
        <span>
          <pre>
        Поле ввода логина обязательное 
        и должно содержать не менее 4 символов 
          </pre>
        </span>
      </div>
      <div class="form-group">
        <label>Пароль</label>
        <input
          type="password"
          name="password"
          pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#\$%\^&\*]).{6,}"
        />
        <span>
<pre>
        Поле ввода пароля должно содержать строковое значение, 
        состоящие не менее чем из 6 символов букв в нижнем и верхнем 
        регистре, цифры и спец символа.
</pre>
        </span>
      </div>

      <div class="form-group">
        <input type="submit" value="Зарегистрироваться" />
      </div>
    </form>

    <script>
      /*
        Задание:
        Добавьте валидацию формы:
        Поле ввода логина обязательное и должно содержать не менее 4 символов
        Поле ввода пароля должно содержать строковое значение, состоящие не менее чем из 6 символов букв в нижнем и верхнем 
        регистре, цифры и спец символа.

        Проверку нужно организовать с помощью встроенной валидации.
        Регулярное выражение для проверки пароля - (?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#\$%\^&\*]).{6,}
        */

      const validateForm = document.forms[0];

      validateForm.addEventListener('submit', function () {});
      validateForm.addEventListener('change', function (e) {
        const input = e.target;
        if (input.tagName != 'INPUT') return;
        if (input.value.length < 4) {
          input.nextElementSibling.style.display = 'inline';
        } else {
          input.nextElementSibling.style.display = 'none';
        }
      });
    </script>
  </body>
</html>
